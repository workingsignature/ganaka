model Schedule {
    id String @id @default(uuid())

    shortlist  Shortlist         @relation(fields: [shortlistId], references: [id])
    tradeBegin DateTime
    tradeEnd   DateTime
    creator    ScheduleCreatedBy
    usedByBots BotSchedule[]
    cron       String? // if recurring
    status     ScheduleStatus

    shortlistId String   @unique
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
}

model BotSchedule {
    id          String              @id @default(uuid())
    predictions PredictionHistory[]

    schedule Schedule @relation(fields: [scheduleId], references: [id])
    bot      Bot      @relation(fields: [botId], references: [id])

    botId      String
    scheduleId String
    createdAt  DateTime @default(now())
    updatedAt  DateTime @updatedAt
}

enum ScheduleCreatedBy {
    USER
    SYSTEM
}

enum ScheduleStatus {
    ACTIVE
    INACTIVE
    COMPLETED
}
