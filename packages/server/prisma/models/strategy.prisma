model Strategy {
    id String @id @default(uuid())

    name             String
    description      String
    owner            User              @relation(fields: [ownerId], references: [id], onDelete: Cascade)
    isPublic         Boolean           @default(false)
    versions         StrategyVersion[]
    customAttributes Json?             @default("{}")

    ownerId   String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([ownerId, name])
}

model StrategyVersion {
    id String @id @default(uuid())

    name             String
    version          String
    runs             Run[]
    strategy         Strategy @relation(fields: [strategyId], references: [id], onDelete: Cascade)
    customAttributes Json?    @default("{}")

    strategyId String
    createdAt  DateTime @default(now())
    updatedAt  DateTime @updatedAt
}
